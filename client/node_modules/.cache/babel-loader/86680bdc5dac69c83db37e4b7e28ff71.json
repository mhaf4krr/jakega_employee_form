{"ast":null,"code":"var _jsxFileName = \"/home/hyder/Desktop/Form_Project/client/src/components/ServiceInformation/PostingsInfo/PostingsInformation.js\";\nimport React, { Component } from \"react\";\nimport styles from \"./Postings.module.css\";\nimport Modal from \"../../../utils/Modal/Modal\";\nimport { Header, Form, Button } from \"semantic-ui-react\";\nimport Table from \"./PostingsTable/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EducationInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalOpen: false,\n      counter: 0,\n      postings: [],\n      posting: {\n        office_place: \"\",\n        from: null,\n        to: null\n      }\n    };\n\n    this.validateBtn = () => {\n      let validated = true;\n      let fields = Object.keys(this.state.posting);\n      let form = this.state.posting;\n\n      for (let i = 0; i < fields.length; i++) {\n        if (form[fields[i]] === null || form[fields[i]] === \"\") {\n          validated = false;\n        }\n      }\n\n      return validated;\n    };\n\n    this.validatedMainSubmission = () => {\n      let postings_data = this.state.postings;\n\n      if (postings_data.length > 0) {\n        return true;\n      } else return false;\n    };\n\n    this.validated = () => {\n      let validated = true;\n      let postings_data = this.state.postings;\n      let fields = Object.keys(postings_data);\n\n      for (let i = 0; i < fields.length; i++) {\n        if (postings_data[fields[i]] === \"\") {\n          validated = false;\n          break;\n        }\n      }\n\n      return validated;\n    };\n\n    this.clearExistingForm = () => {\n      let current_posting_form = { ...this.state.posting\n      };\n      let fields = Object.keys(current_posting_form);\n      fields.forEach(field => {\n        current_posting_form[field] = \"\";\n      });\n      this.setState({\n        posting: current_posting_form\n      });\n    };\n\n    this.storeCurrentInArray = () => {\n      let counter = this.state.counter;\n      let current_posting_form = { ...this.state.posting,\n        id: counter\n      };\n      console.log(current_posting_form, \"current_ed_form\");\n      let postings_data = [...this.state.postings, current_posting_form];\n      this.setState({\n        postings: postings_data,\n        counter: counter + 1,\n        modalOpen: false\n      });\n    };\n\n    this.removeItemFormTable = value => {\n      let postings_data = [...this.state.postings];\n      postings_data = postings_data.filter(item => {\n        console.log(item[\"id\"], value);\n        return item[\"id\"] !== value;\n      });\n      this.setState({\n        postings: postings_data\n      });\n    };\n\n    this.handleFormFill = (id, value) => {\n      let posting_data = { ...this.state.posting\n      };\n      posting_data[id] = value;\n      this.setState({\n        posting: posting_data\n      });\n    };\n\n    this.changeModal = state => {\n      let modal = state === \"open\" ? true : false;\n      this.setState({\n        modalOpen: modal\n      });\n    };\n  }\n\n  componentDidMount() {\n    let main_form_posting_data = [...this.props.form]; // If some previous information exists, just initialize state to that\n\n    if (main_form_posting_data.length > 0) {\n      this.setState({\n        postings: [...main_form_posting_data]\n      });\n    }\n\n    return;\n  }\n\n  render() {\n    let {\n      incrementStep,\n      decrementStep,\n      handleArrayFill\n    } = { ...this.props\n    };\n    let form = this.state.posting;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"main_wrapper\"],\n        children: [/*#__PURE__*/_jsxDEV(Modal, {\n          modalState: this.state.modalOpen,\n          modalMessage: \"Add new Posting Detail\",\n          closeModal: () => this.changeModal(\"close\"),\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              widths: \"equal\",\n              children: /*#__PURE__*/_jsxDEV(Form.Field, {\n                control: Form.Input,\n                label: \"Office and Place\",\n                name: \"office_and_place\",\n                required: true,\n                onChange: e => {\n                  this.handleFormFill(\"office_place\", e.target.value);\n                },\n                value: form[\"office_place\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              widths: \"equal\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n                type: \"date\",\n                label: \"Posting From\",\n                required: true,\n                onChange: e => this.handleFormFill(\"from\", e.target.value),\n                value: form[\"from\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                type: \"date\",\n                label: \"Posting To\",\n                required: true,\n                onChange: e => this.handleFormFill(\"to\", e.target.value),\n                value: form[\"to\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                positive: true,\n                disabled: !this.validateBtn(),\n                onClick: e => {\n                  if (this.validated()) {\n                    this.storeCurrentInArray();\n                    this.clearExistingForm();\n                  }\n                },\n                children: \"Add Detail to List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          as: \"h2\",\n          children: \"11. Official Postings Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please fill up the details of your posting from the date of appointment (applicable for reverification cases)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          positive: true,\n          onClick: e => {\n            this.setState({\n              modalOpen: true\n            });\n          },\n          children: \"Add Posting Detail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        removeItemFormTable: this.removeItemFormTable,\n        data: this.state.postings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"btn_wrapper\"],\n        children: /*#__PURE__*/_jsxDEV(Button.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"medium\",\n            color: \"yellow\",\n            onClick: e => {\n              e.preventDefault();\n              decrementStep();\n            },\n            children: \"BACK: (10). ACCOUNTS INFO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button.Or, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"medium\",\n            positive: true,\n            disabled: !this.validatedMainSubmission(),\n            onClick: e => {\n              e.preventDefault();\n\n              if (this.validatedMainSubmission()) {\n                handleArrayFill(\"service_details\", [...this.state.postings], \"postings\");\n                incrementStep();\n              } else return false;\n            },\n            children: \"(12). PROMOTIONS INFO : NEXT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/hyder/Desktop/Form_Project/client/src/components/ServiceInformation/PostingsInfo/PostingsInformation.js"],"names":["React","Component","styles","Modal","Header","Form","Button","Table","EducationInfo","state","modalOpen","counter","postings","posting","office_place","from","to","validateBtn","validated","fields","Object","keys","form","i","length","validatedMainSubmission","postings_data","clearExistingForm","current_posting_form","forEach","field","setState","storeCurrentInArray","id","console","log","removeItemFormTable","value","filter","item","handleFormFill","posting_data","changeModal","modal","componentDidMount","main_form_posting_data","props","render","incrementStep","decrementStep","handleArrayFill","Input","e","target","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport styles from \"./Postings.module.css\";\n\nimport Modal from \"../../../utils/Modal/Modal\";\n\nimport { Header, Form, Button } from \"semantic-ui-react\";\n\nimport Table from \"./PostingsTable/Table\";\n\nexport default class EducationInfo extends Component {\n  state = {\n    modalOpen: false,\n    counter: 0,\n    postings: [],\n    posting: {\n      office_place: \"\",\n      from: null,\n      to: null,\n    \n    },\n  };\n\n\n  componentDidMount(){\n    \n    let main_form_posting_data = [...this.props.form]\n     // If some previous information exists, just initialize state to that\n\n     if(main_form_posting_data.length > 0){\n       this.setState({postings:[...main_form_posting_data]})\n     }\n\n     return\n     \n  }\n\n  validateBtn = () =>{\n    let validated = true\n    let fields = Object.keys(this.state.posting)\n\n    let form = this.state.posting\n\n    for(let i=0;i<fields.length;i++){\n      if(form[fields[i]] === null || form[fields[i]] === \"\" ){\n        validated = false\n      }\n    }\n\n    return validated\n  }\n\n  validatedMainSubmission = () => {\n    let postings_data = this.state.postings;\n    if (postings_data.length > 0) {\n      return true;\n    } else return false;\n  };\n\n  validated = () => {\n    let validated = true;\n\n    let postings_data = this.state.postings;\n\n    let fields = Object.keys(postings_data);\n\n    for (let i = 0; i < fields.length; i++) {\n      if (postings_data[fields[i]] === \"\") {\n        validated = false;\n        break;\n      }\n    }\n\n    return validated;\n  };\n\n  clearExistingForm = () => {\n    let current_posting_form = { ...this.state.posting };\n    let fields = Object.keys(current_posting_form);\n    fields.forEach((field) => {\n      current_posting_form[field] = \"\";\n    });\n    this.setState({\n      posting: current_posting_form,\n    });\n  };\n\n  storeCurrentInArray = () => {\n    let counter = this.state.counter;\n    let current_posting_form = { ...this.state.posting, id: counter };\n    console.log(current_posting_form, \"current_ed_form\");\n\n    let postings_data = [\n      ...this.state.postings,\n      current_posting_form,\n    ];\n\n    this.setState({\n      postings: postings_data,\n      counter: counter + 1,\n      modalOpen: false,\n    });\n  };\n\n  removeItemFormTable = (value) => {\n    let postings_data = [\n      ...this.state.postings,\n    ];\n    postings_data = postings_data.filter(\n      (item) => {\n        console.log(item[\"id\"], value);\n        return item[\"id\"] !== value;\n      }\n    );\n\n    this.setState({\n      postings: postings_data,\n    });\n  };\n\n  handleFormFill = (id, value) => {\n    let posting_data= { ...this.state.posting};\n    posting_data[id] = value;\n\n    this.setState({ posting: posting_data });\n  };\n\n  changeModal = (state) => {\n    let modal = state === \"open\" ? true : false;\n    this.setState({ modalOpen: modal });\n  };\n  render() {\n    let { incrementStep, decrementStep, handleArrayFill } = {\n      ...this.props,\n    };\n\n    let form = this.state.posting;\n\n    return (\n      <div className=\"container\">\n        <div className={styles[\"main_wrapper\"]}>\n          <Modal\n            modalState={this.state.modalOpen}\n            modalMessage=\"Add new Posting Detail\"\n            closeModal={() => this.changeModal(\"close\")}\n          >\n            <Form>\n              <Form.Group widths=\"equal\">\n                <Form.Field\n                  control={Form.Input}\n                  label=\"Office and Place\"\n                  name=\"office_and_place\"\n                  required\n                  onChange={(e) => {\n                    this.handleFormFill(\"office_place\", e.target.value);\n                  }}\n                  value={form[\"office_place\"]}\n                />\n              </Form.Group>\n\n              <Form.Group widths=\"equal\">\n              <Form.Input\n                  type=\"date\"\n                  label=\"Posting From\"\n                  required\n                  onChange={(e) =>\n                    this.handleFormFill(\"from\", e.target.value)\n                  }\n                  value={form[\"from\"]}\n                />\n<Form.Input\n                  type=\"date\"\n                  label=\"Posting To\"\n                  required\n                  onChange={(e) =>\n                    this.handleFormFill(\"to\", e.target.value)\n                  }\n                  value={form[\"to\"]}\n                />\n              </Form.Group>\n\n              \n              <Form.Group>\n                <Button\n                  positive\n                  disabled={!this.validateBtn()}\n                  onClick={(e) => {\n                    if (this.validated()) {\n                      this.storeCurrentInArray();\n                      this.clearExistingForm();\n                    }\n                  }}\n                >\n                  Add Detail to List\n                </Button>\n              </Form.Group>\n            </Form>\n          </Modal>\n\n          <Header as=\"h2\">11. Official Postings Information</Header>\n          <p>\n            Please fill up the details of your posting from the date of appointment (applicable for reverification cases)\n          </p>\n\n          <Button\n            positive\n            onClick={(e) => {\n              this.setState({\n                modalOpen: true,\n              });\n            }}\n          >\n            Add Posting Detail\n          </Button>\n        </div>\n        <Table\n          removeItemFormTable={this.removeItemFormTable}\n          data={this.state.postings}\n        />\n\n        <div className={styles[\"btn_wrapper\"]}>\n          <Button.Group>\n            <Button\n              size=\"medium\"\n              color=\"yellow\"\n              onClick={(e) => {\n                e.preventDefault();\n                decrementStep();\n              }}\n            >\n              BACK: (10). ACCOUNTS INFO\n            </Button>\n            <Button.Or />\n            <Button\n              size=\"medium\"\n              positive\n              disabled={!this.validatedMainSubmission()}\n              onClick={(e) => {\n                e.preventDefault();\n\n                if (this.validatedMainSubmission()) {\n                  handleArrayFill(\"service_details\",[...this.state.postings],\"postings\")\n                  incrementStep();\n                } else return false;\n              }}\n            >\n              (12). PROMOTIONS INFO : NEXT\n            </Button>\n          </Button.Group>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}